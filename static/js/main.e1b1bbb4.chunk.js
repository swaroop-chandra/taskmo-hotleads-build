(this.webpackJsonptaskmo_admin=this.webpackJsonptaskmo_admin||[]).push([[0],{132:function(e,t,a){},133:function(e,t,a){},139:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){},167:function(e,t,a){},168:function(e,t){},172:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(10),r=a.n(o),l=(a(132),a(34)),s=(a(133),a(25)),i=a(64),d=a.n(i),j=(a(139),a(27)),u=a(69),b=a.n(u),m=a(4);Object(i.createTheme)("solarized",{text:{primary:"black",secondary:"#fff"},background:{default:"#fff"},boxshadow:{default:"5px 5px 30px #fff"},context:{background:"#fff",text:"#FFFFFF"},divider:{default:"#fff"},action:{button:"rgba(0,0,0,.54)",hover:"rgba(0,0,0,.08)",disabled:"rgba(0,0,0,.12)"}});var h=Object(j.b)((function(e){return{totalData:e.totalData,acceptedData:e.totalData.accepted,deniedData:e.totalData.denied}}))((function(e,t){t.api,t.admin;var a=Object(n.useState)(!0),c=Object(l.a)(a,2),o=c[0],r=c[1],i=[{name:"Customer ID",selector:"customer_id",sortable:!0,center:!0,cell:function(e){return Object(m.jsx)("div",{children:e.customer_id})}},{name:"Merchant Number",selector:"merchant_number",cell:function(e){return Object(m.jsx)("div",{children:e.merchant_number})},sortable:!0,center:!0},{name:"Store Name",selector:"shop_name",cell:function(e){return Object(m.jsx)("div",{children:e.shop_name})},sortable:!0,center:!0},{name:"Order Id",selector:"order_id",cell:function(e){return Object(m.jsx)("div",{children:"null"===e.order_id?"-":e.order_id})},sortable:!0,center:!0}],j=[{name:"Customer ID",selector:"customer_id",cell:function(e){return Object(m.jsx)("div",{children:e.customer_id})},sortable:!0,center:!0},{name:"Merchant Number",selector:"merchant_number",cell:function(e){return Object(m.jsx)("div",{children:e.merchant_number})},ordering:!0,sortable:!0,center:!0},{name:"Reason",selector:"reason",cell:function(e){return Object(m.jsx)("div",{children:e.reason})},sortable:!0,center:!0}],u={columns:i,data:e.acceptedData},h={columns:j,data:e.deniedData};return Object(m.jsxs)("div",{className:"table_data",children:[Object(m.jsxs)("div",{className:"menu-container",children:[Object(m.jsx)("h1",{style:o?{color:"#4858e9"}:{color:"#979797"},onClick:function(){r(!0)},children:"Accepted"}),Object(m.jsx)("h1",{style:o?{color:"#979797",marginLeft:"130px"}:{color:"#ff968d",marginLeft:"130px"},onClick:function(){r(!1)},children:"Denied"})]}),o?Object(m.jsx)("div",{className:"card_table",id:"card_table_accepted",children:Object(m.jsx)(b.a,Object(s.a)(Object(s.a)({},u),{},{filterPlaceholder:"Search",children:Object(m.jsx)(d.a,{columns:i,data:e.acceptedData,defaultSortFieldId:1,pagination:!0,theme:"solarized"})}))}):Object(m.jsx)("div",{className:"card_table",id:"card_table_denied",children:Object(m.jsx)(b.a,Object(s.a)(Object(s.a)({},h),{},{filterPlaceholder:"Search",children:Object(m.jsx)(d.a,{columns:j,data:e.deniedData,defaultSortFieldId:1,pagination:!0,theme:"solarized"})}))})]})})),g=function(e){return function(t){var a=e;t(a?{type:"GET_LOGIN"}:{type:"GET_LOGOUT"})}},p=a(35),O=a.n(p),v=a(49),f=a(95),x=a(96),_=a(104),y=a(103),N=(a(148),a(97)),k=a.n(N),D="https://nodeapi.taskmo.com/v1/hotleads/check_email",T=function(e){Object(_.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(f.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(e=t.call.apply(t,[this].concat(c))).responseGoogle=function(t){if(t.accessToken){var a=t.profileObj.email;(function(){var n=Object(v.a)(O.a.mark((function n(){var c;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(D,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify({email:a})});case 2:if(!(c=n.sent).ok){n.next=10;break}return n.next=6,c.json();case 6:n.sent.email_status?(e.props.loginFunc(t),console.log("login email true"),e.props.setLoginError("")):(console.log("login email false"),e.props.logoutFunc(),e.props.setLoginError("You don't have access, please contact admin")),n.next=13;break;case 10:console.log("login email false"),e.props.logoutFunc(),e.props.setLoginError("You don't have access, please contact admin");case 13:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}})()()}else e.props.logoutFunc()},e}return Object(x.a)(a,[{key:"render",value:function(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(k.a,{clientId:"800470593510-v53lbqn11rmr50tjjk4ah19vqhskutau.apps.googleusercontent.com",buttonText:"Sign In With Google",onSuccess:this.responseGoogle,onFailure:this.responseGoogle,cookiePolicy:"single_host_origin"})})}}]),a}(n.Component);a(149);var w=Object(j.b)((function(e){return{loggedin:e.loggedin}}))((function(e){var t=Object(n.useState)(""),a=Object(l.a)(t,2),c=a[0],o=a[1];return Object(m.jsxs)("div",{className:"p_login",children:[Object(m.jsx)("div",{className:"log_col1",children:Object(m.jsx)("img",{src:window.location.origin+"/images/hot_lead_login.png",alt:"login",className:"login_bg"})}),Object(m.jsxs)("div",{className:"log_col2",children:[Object(m.jsx)("h1",{className:"log_name",children:"Taskmo HOT-Leads"}),Object(m.jsx)("div",{className:"login_button",children:Object(m.jsx)(T,{loginFunc:function(t){localStorage.setItem("asm_token",t.accessToken),localStorage.setItem("asm_token_email",t.profileObj.email),e.dispatch(g(!0))},logoutFunc:function(){e.dispatch(g(!1)),localStorage.removeItem("asm_token"),localStorage.removeItem("asm_token_email")},setLoginError:o})}),Object(m.jsx)("div",{style:{marginTop:"10px"},children:c})]})]})})),I=a(14),S=function(e){return{type:"GET_PROJECT_NAME",payload:e}},F=a(208),L=a(212),E=a(213),C=a(206),G=a(209),A=a(198),M=a(102),P=a(17),H=a(207),J=a(98),Y=a.n(J).a.create({baseURL:"https://nodeapi.taskmo.com/v1/hotleads"}),B=function(e,t){return function(a){(function(){var n=Object(v.a)(O.a.mark((function n(){var c;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Y.get("lead_stats?date=".concat(e,"&project_name=").concat(t));case 3:c=n.sent,a({type:"GET_TOTAL_DATA",payload:c.data.data}),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}})()()}},R=a(99),W=a.n(R);a(167);var z=Object(j.b)((function(e){return{projName:e.projName}}))((function(e){var t=c.a.useState(new Date),a=Object(l.a)(t,2),n=a[0],o=a[1];return Object(m.jsx)(P.a,{utils:M.a,children:Object(m.jsx)(A.a,{container:!0,justifyContent:"space-around",children:Object(m.jsx)(H.a,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"date-picker-inline",label:"Date picker inline",value:n,onChange:function(t){o(t);var a=W()(t).format("DD/MM/YYYY");console.log(a,"date");var n={date:a},c=e.projName;e.dispatch(function(e,t){return function(a){!function(){var n=Object(v.a)(O.a.mark((function n(){var c;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{c=e.date,a(B(c,t))}catch(o){console.error(o)}case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()()}}(n,c))},KeyboardButtonProps:{"aria-label":"change date"}})})})})),U=(a(168),a(201)),q=Object(U.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}}));var K=Object(j.b)((function(e){return{totalData:e.totalData,dateData:e.dateData,loggedin:e.loggedin,projName:e.projName}}))((function(e){var t=Object(n.useState)(""),a=Object(l.a)(t,2),c=a[0],o=a[1],r=Object(n.useState)(""),s=Object(l.a)(r,2),i=s[0],d=s[1],j=!1,u=q();return j=!!localStorage.getItem("asm_token"),console.log(e.totalData,"props-total-data"),Object(m.jsx)("div",{className:"App",children:j?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)("div",{className:"header",children:[Object(m.jsx)("img",{style:{height:"48px"},src:window.location.origin+"/images/logo/TaskmoOTTFinal.svg",alt:"ott",className:"ottLogo"}),Object(m.jsx)("h3",{className:"project_name",children:"Hot Leads"}),Object(m.jsxs)("div",{className:"logout_box",onClick:function(){return localStorage.removeItem("asm_token"),localStorage.removeItem("asm_token_email"),void e.dispatch(g(!1))},children:[Object(m.jsx)("img",{src:window.location.origin+"/images/logo/logout_black.svg",alt:"ott",className:"logout_ott"}),"Logout"]})]}),Object(m.jsxs)("div",{className:"hot_row1",children:[Object(m.jsx)("div",{children:Object(m.jsx)(F.a,{sx:{minWidth:120},children:Object(m.jsxs)(C.a,{variant:"outlined",className:u.formControl,children:[Object(m.jsx)(L.a,{id:"demo-simple-select-label1",children:"Project"}),Object(m.jsxs)(G.a,{labelId:"demo-simple-select-label1",id:"demo-simple-select",value:i,label:"project",onChange:function(t){var a;d(t.target.value),console.log(t.target.value,"project"),e.dispatch((a=t.target.value,function(e){e(S(a||""))}));var n=document.getElementById("date_selector");"none"===n.style.display&&(n.style.display="block")},children:[Object(m.jsxs)(E.a,{value:"ninjacart",children:[Object(m.jsx)("img",{src:window.location.origin+"/images/logo/ninjacart.svg",alt:"ott",className:"logo_drop"}),"Ninjacart"]}),Object(m.jsxs)(E.a,{value:"jiomart",children:[Object(m.jsx)("img",{src:window.location.origin+"/images/logo/jio_mart_logo.svg",alt:"ott",className:"logo_drop"}),"JioMart"]})]})]})})}),Object(m.jsxs)("div",{id:"date_selector",style:{display:"none"},children:[Object(m.jsx)(F.a,{sx:{minWidth:120},children:Object(m.jsxs)(C.a,{variant:"outlined",className:u.formControl,children:[Object(m.jsx)(L.a,{id:"demo-simple-select-label",children:"Date"}),Object(m.jsx)(G.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:c,label:"date",onChange:function(e){o(e.target.value);var t=document.getElementById("MyForm_id");("Select Date"===e.target.value||"Select Date Range"===e.target.value)&&("none"===t.style.display?t.style.display="block":t.style.display="none")},children:Object(m.jsx)(E.a,{value:"Select Date",children:"Select Date"})})]})}),Object(m.jsx)("div",{id:"MyForm_id",style:{display:"none"},children:Object(m.jsx)(z,{})})]})]}),Object(m.jsxs)("div",{className:"hot_row1",children:[Object(m.jsxs)("div",{className:"hot_card1",style:{backgroundImage:"url(".concat(window.location.origin+"/images/HotLeadDashboard/purple.svg",")")},children:[Object(m.jsx)("div",{className:"round_back",children:Object(m.jsx)("p",{className:"hot_p2",children:e.totalData.total_visited})}),Object(m.jsx)("p",{className:"hot_p1",children:"Total visited stores"})]}),Object(m.jsxs)("div",{className:"hot_card1",style:{backgroundImage:"url(".concat(window.location.origin+"/images/HotLeadDashboard/blue.svg",")")},children:[Object(m.jsx)("div",{className:"round_back",children:Object(m.jsx)("p",{className:"hot_p2",style:{color:"#64abdd"},children:e.totalData.total_checkins})}),Object(m.jsx)("p",{className:"hot_p1",children:"Total checkins"})]}),Object(m.jsxs)("div",{className:"hot_card1",style:{backgroundImage:"url(".concat(window.location.origin+"/images/HotLeadDashboard/green.svg",")")},children:[Object(m.jsx)("div",{className:"round_back",children:Object(m.jsx)("p",{className:"hot_p2",style:{color:"#00a88b"},children:e.totalData.total_accepted})}),Object(m.jsx)("p",{className:"hot_p1",children:"Total orders"})]}),Object(m.jsxs)("div",{className:"hot_card1",style:{backgroundImage:"url(".concat(window.location.origin+"/images/HotLeadDashboard/red.svg",")")},children:[Object(m.jsx)("div",{className:"round_back",children:Object(m.jsx)("p",{className:"hot_p2",style:{color:"#d93535"},children:e.totalData.total_denied})}),Object(m.jsx)("p",{className:"hot_p1",children:"Total denied"})]})]}),Object(m.jsx)(I.a,{to:"/dashboard",children:Object(m.jsx)(h,{})})]}):Object(m.jsx)(I.a,{to:"/login",children:Object(m.jsx)(w,{})})})})),Q=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,218)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,o=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),o(e),r(e)}))},V=a(68),X=a(65),Z=a(101),$=function(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"GET_LOGIN":return!0;case"GET_LOGOUT":default:return!1}},ee={},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_TOTAL_DATA":return Object(s.a)({},t.payload);default:return Object(s.a)({},e)}},ae={},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_DATE_DATA":return Object(s.a)({},t.payload);default:return Object(s.a)({},e)}},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PROJECT_NAME":return t.payload.slice();default:return e.slice()}},oe=function(){return Object(X.c)(Object(X.b)({loggedin:$,totalData:te,dateData:ne,projName:ce}),Object(X.a)(Z.a))}(),re=Object(m.jsx)(j.a,{store:oe,children:Object(m.jsx)(V.a,{children:Object(m.jsx)(K,{to:"/login"})})});r.a.render(re,document.getElementById("root")),Q()}},[[172,1,2]]]);
//# sourceMappingURL=main.e1b1bbb4.chunk.js.map